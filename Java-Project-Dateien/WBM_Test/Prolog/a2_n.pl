edge(1,3,42).
edge(2,3,24).
edge(3,4,36).
edge(4,5,20).
edge(4,7,58).
edge(6,7,34).
edge(7,8,88).
edge(8,9,29).
edge(8,12,37).
edge(10,12,59).
edge(10,14,51).
edge(11,12,80).
edge(11,259,38).
edge(11,260,33).
edge(12,13,28).
edge(12,14,36).
edge(12,15,64).
edge(12,16,39).
edge(14,15,43).
edge(14,16,29).
edge(14,17,61).
edge(15,17,74).
edge(16,17,68).
edge(17,18,78).
edge(17,19,59).
edge(17,20,69).
edge(18,19,98).
edge(18,38,122).
edge(18,83,158).
edge(18,21,39).
edge(19,20,80).
edge(20,75,101).
edge(20,208,154).
edge(21,22,95).
edge(21,23,89).
edge(22,31,82).
edge(22,39,156).
edge(23,24,32).
edge(24,31,68).
edge(25,26,141).
edge(25,31,38).
edge(26,32,49).
edge(27,28,86).
edge(27,32,92).
edge(28,29,71).
edge(29,30,156).
edge(29,36,74).
edge(32,33,102).
edge(33,34,75).
edge(33,35,74).
edge(34,41,124).
edge(35,42,122).
edge(36,37,120).
edge(37,43,21).
edge(37,44,39).
edge(38,39,97).
edge(38,77,161).
edge(39,40,24).
edge(39,51,34).
edge(40,41,148).
edge(40,60,70).
edge(41,42,149).
edge(41,63,73).
edge(42,43,180).
edge(42,46,47).
edge(43,74,68).
edge(44,45,49).
edge(45,48,157).
edge(46,47,37).
edge(46,63,72).
edge(47,48,43).
edge(47,49,42).
edge(48,50,36).
edge(49,50,36).
edge(49,70,49).
edge(50,71,56).
edge(51,52,79).
edge(51,58,46).
edge(52,53,104).
edge(52,54,87).
edge(52,83,30).
edge(52,84,82).
edge(53,54,87).
edge(53,83,88).
edge(53,204,64).
edge(53,208,92).
edge(54,79,69).
edge(54,83,98).
edge(54,80,61).
edge(55,56,40).
edge(55,57,33).
edge(55,65,62).
edge(55,67,45).
edge(55,84,96).
edge(57,58,51).
edge(58,59,16).
edge(58,67,49).
edge(59,60,23).
edge(59,64,148).
edge(60,61,28).
edge(61,62,89).
edge(62,63,58).
edge(62,64,63).
edge(64,65,96).
edge(64,68,52).
edge(65,66,79).
edge(65,67,45).
edge(66,78,163).
edge(66,87,54).
edge(66,105,110).
edge(66,107,145).
edge(68,69,122).
edge(68,70,94).
edge(69,88,87).
edge(69,109,111).
edge(70,71,73).
edge(71,72,126).
edge(71,73,49).
edge(71,89,36).
edge(72,89,91).
edge(72,112,107).
edge(73,74,92).
edge(73,270,67).
edge(74,270,111).
edge(75,76,61).
edge(75,207,59).
edge(77,78,49).
edge(77,80,34).
edge(77,85,15).
edge(78,80,26).
edge(78,85,48).
edge(78,91,119).
edge(79,83,124).
edge(79,168,73).
edge(79,204,76).
edge(79,209,37).
edge(80,81,137).
edge(81,82,73).
edge(81,91,24).
edge(81,93,76).
edge(82,97,78).
edge(83,208,151).
edge(84,85,29).
edge(85,86,20).
edge(86,87,155).
edge(87,88,148).
edge(88,89,152).
edge(90,114,96).
edge(91,92,31).
edge(92,94,81).
edge(92,102,24).
edge(92,104,41).
edge(93,96,132).
edge(94,98,25).
edge(94,125,19).
edge(95,101,11).
edge(95,160,26).
edge(96,97,79).
edge(97,162,15).
edge(97,163,70).
edge(98,99,9).
edge(98,125,28).
edge(99,100,129).
edge(99,103,62).
edge(100,101,13).
edge(100,103,69).
edge(101,128,29).
edge(102,106,77).
edge(104,105,146).
edge(106,107,79).
edge(106,124,50).
edge(107,108,32).
edge(108,109,114).
edge(108,120,50).
edge(109,110,78).
edge(110,111,69).
edge(110,112,73).
edge(111,116,47).
edge(112,113,82).
edge(113,114,42).
edge(113,115,99).
edge(115,116,161).
edge(116,117,83).
edge(117,118,42).
edge(117,119,113).
edge(118,119,83).
edge(119,120,63).
edge(119,121,37).
edge(121,122,78).
edge(121,123,92).
edge(122,125,116).
edge(123,124,64).
edge(123,125,84).
edge(125,127,87).
edge(126,127,21).
edge(128,129,30).
edge(128,132,123).
edge(128,133,110).
edge(129,130,38).
edge(130,131,73).
edge(131,132,28).
edge(132,134,41).
edge(133,135,55).
edge(133,150,115).
edge(134,135,25).
edge(135,136,89).
edge(136,137,33).
edge(136,138,78).
edge(136,149,120).
edge(138,139,40).
edge(138,140,69).
edge(140,141,26).
edge(140,142,114).
edge(140,148,125).
edge(142,143,24).
edge(142,144,32).
edge(144,145,173).
edge(144,147,127).
edge(145,146,50).
edge(145,158,45).
edge(147,154,116).
edge(147,178,77).
edge(147,179,75).
edge(148,153,120).
edge(148,176,78).
edge(148,177,77).
edge(148,184,72).
edge(148,185,73).
edge(149,152,123).
edge(149,172,84).
edge(149,175,79).
edge(149,190,77).
edge(149,191,73).
edge(150,151,129).
edge(150,165,69).
edge(150,169,100).
edge(150,170,76).
edge(150,194,84).
edge(151,152,149).
edge(151,198,55).
edge(152,153,148).
edge(153,154,146).
edge(153,226,30).
edge(154,155,173).
edge(154,159,29).
edge(155,156,69).
edge(155,157,45).
edge(157,158,252).
edge(157,244,112).
edge(157,245,131).
edge(159,237,32).
edge(159,238,98).
edge(160,161,51).
edge(160,169,102).
edge(161,162,31).
edge(162,166,112).
edge(163,164,28).
edge(163,165,96).
edge(164,165,94).
edge(164,168,68).
edge(165,194,63).
edge(166,167,14).
edge(166,168,57).
edge(167,195,118).
edge(168,203,105).
edge(168,204,51).
edge(168,209,40).
edge(169,171,106).
edge(170,193,132).
edge(171,172,27).
edge(171,173,87).
edge(172,175,60).
edge(172,192,133).
edge(173,174,29).
edge(174,175,25).
edge(174,176,68).
edge(176,177,55).
edge(176,185,139).
edge(177,178,101).
edge(179,180,17).
edge(179,182,40).
edge(180,184,89).
edge(181,182,100).
edge(181,233,56).
edge(181,234,46).
edge(181,235,34).
edge(182,183,30).
edge(184,185,54).
edge(185,186,14).
edge(186,187,40).
edge(186,190,78).
edge(187,188,41).
edge(187,189,34).
edge(189,225,24).
edge(190,191,46).
edge(191,192,14).
edge(192,193,81).
edge(193,194,16).
edge(194,195,32).
edge(195,196,17).
edge(196,197,38).
edge(196,198,52).
edge(198,199,23).
edge(198,200,14).
edge(199,202,85).
edge(199,211,113).
edge(200,201,24).
edge(200,203,44).
edge(201,202,74).
edge(201,212,92).
edge(202,203,49).
edge(202,204,81).
edge(202,206,61).
edge(204,208,65).
edge(204,209,43).
edge(205,206,34).
edge(205,209,47).
edge(206,207,52).
edge(207,210,137).
edge(208,210,143).
edge(210,217,23).
edge(210,218,53).
edge(211,213,28).
edge(212,214,45).
edge(212,215,46).
edge(213,214,10).
edge(213,226,137).
edge(214,223,77).
edge(214,224,98).
edge(215,216,61).
edge(215,220,24).
edge(216,219,31).
edge(217,247,111).
edge(218,220,42).
edge(219,232,146).
edge(219,247,95).
edge(219,248,31).
edge(220,221,28).
edge(220,222,73).
edge(222,223,19).
edge(222,249,146).
edge(223,227,59).
edge(224,225,47).
edge(225,226,29).
edge(226,237,123).
edge(227,228,25).
edge(227,229,67).
edge(229,230,21).
edge(229,250,144).
edge(230,233,63).
edge(231,232,142).
edge(231,241,104).
edge(231,250,103).
edge(232,249,112).
edge(233,234,47).
edge(233,240,26).
edge(234,239,45).
edge(235,236,51).
edge(236,237,36).
edge(236,238,95).
edge(238,239,64).
edge(238,244,82).
edge(239,241,46).
edge(239,243,79).
edge(241,242,57).
edge(242,246,133).
edge(242,252,105).
edge(243,245,107).
edge(243,251,73).
edge(244,245,64).
edge(245,246,28).
edge(246,253,53).
edge(247,254,29).
edge(247,256,111).
edge(248,254,103).
edge(249,263,95).
edge(250,265,101).
edge(251,252,79).
edge(252,267,96).
edge(253,268,144).
edge(254,255,131).
edge(254,258,93).
edge(255,259,89).
edge(256,257,35).
edge(256,258,27).
edge(256,261,81).
edge(258,259,128).
edge(259,260,14).
edge(261,262,56).
edge(261,263,66).
edge(263,264,48).
edge(263,265,149).
edge(265,266,44).
edge(265,267,133).
edge(267,268,126).
edge(268,269,28).
edge(89,270,104).
edge(90,270,113).
edge(145,271,110).
edge(127,272,37).
edge(128,272,46).
edge(129,272,62).


path(From,To,Dist) :- edge(To,From,Dist).
path(From,To,Dist) :- edge(From,To,Dist).

shorterPath([H|Path], Dist) :-		       % wenn pfad < gespeicherter pfad ersetze ihn
	rpath([H|_], D), !, Dist < D,          % knoten suchen
	retract(rpath([H|_],_)),
	assert(rpath([H|Path], Dist)).
shorterPath(Path, Dist) :-		       % speicher neuen pfad
	assert(rpath(Path,Dist)).

traverse(From, Path, Dist) :-		    % gehe zu allen knoten in der nähe
	path(From, T, D),		    % jede kante
	not(memberchk(T, Path)),	    %	noch nicht betrachtet
	shorterPath([T,From|Path], Dist+D), %	Update neuen kürzesten Pfad
	traverse(T,[From|Path],Dist+D).	    %	Gehe zum nächsten Punkt

traverse(From) :-
	retractall(rpath(_,_)),           % Säuber Lösungssammlung
	traverse(From,[],0).              % gehe von Start zum Zielpunkt
traverse(_).

go(From, To,[Path,Distance]) :-
	traverse(From),                   % Suche alle Wege
	rpath([To|RPath], Dist)->         % Wenn Endpunkt erreicht ist gebe das Ergebnis aus
	  reverse([To|RPath], Path),
	  Distance is round(Dist),
	  write([Path, Dist, Distance]);
	write('There is no route').
