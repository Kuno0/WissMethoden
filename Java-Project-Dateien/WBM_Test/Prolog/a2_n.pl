edge(1,3,1094,1).
edge(2,3,1139,1).
edge(3,4,1099,1).
edge(4,5,1061,1).
edge(4,7,1032,1).
edge(6,7,965,0).
edge(7,8,929,1).
edge(8,9,845,1).
edge(8,12,837,1).
edge(10,12,763,1).
edge(10,14,729,1).
edge(11,12,868,1).
edge(11,259,902,1).
edge(11,260,916,1).
edge(12,13,785,0).
edge(12,14,776,1).
edge(12,15,750,1).
edge(12,16,794,1).
edge(14,15,715,1).
edge(14,16,761,1).
edge(14,17,696,1).
edge(15,17,667,1).
edge(16,17,715,1).
edge(17,18,593,1).
edge(17,19,606,1).
edge(17,20,683,1).
edge(18,19,549,1).
edge(18,38,455,1).
edge(18,83,447,0).
edge(18,21,550,1).
edge(19,20,645,1).
edge(20,75,669,1).
edge(20,208,633,0).
edge(21,22,501,1).
edge(21,23,630,1).
edge(22,31,486,1).
edge(22,39,340,1).
edge(23,24,669,0).
edge(24,31,595,1).
edge(25,26,404,1).
edge(25,31,514,1).
edge(26,32,262,1).
edge(27,28,69,1).
edge(27,32,172,1).
edge(28,29,99,1).
edge(29,30,98,1).
edge(29,36,199,1).
edge(32,33,171,1).
edge(33,34,153,1).
edge(33,35,64,1).
edge(34,41,140,1).
edge(35,42,134,1).
edge(36,37,341,1).
edge(37,43,430,1).
edge(37,44,443,1).
edge(38,39,296,1).
edge(38,77,269,1).
edge(39,40,225,0).
edge(40,41,163,1).
edge(40,60,175,1).
edge(41,42,134,1).
edge(41,63,90,1).
edge(42,43,341,1).
edge(42,46,201,1).
edge(43,74,493,1).
edge(44,45,496,1).
edge(45,48,441,0).
edge(46,47,246,0).
edge(46,63,174,1).
edge(47,48,312,1).
edge(47,49,315,1).
edge(48,50,372,1).
edge(49,50,374,1).
edge(49,70,368,0).
edge(50,71,451,0).
edge(51,52,243,1).
edge(51,58,163,1).
edge(52,53,322,0).
edge(52,54,239,0).
edge(52,83,309,0).
edge(52,84,226,0).
edge(53,54,287,0).
edge(53,83,348,0).
edge(53,204,390,0).
edge(53,208,455,0).
edge(54,79,236,1).
edge(54,83,273,0).
edge(54,80,152,0).
edge(55,56,26,1).
edge(55,57,66,0).
edge(55,65,50,1).
edge(55,67,43704,1).
edge(55,84,113,1).
edge(57,58,102,0).
edge(58,59,104,1).
edge(58,67,82,0).
edge(59,60,92,1).
edge(59,64,152,1).
edge(60,61,76,1).
edge(61,62,86,0).
edge(62,63,117,0).
edge(62,64,157,0).
edge(64,65,145,1).
edge(64,68,232,1).
edge(65,66,136,1).
edge(65,67,49,1).
edge(66,78,133,0).
edge(66,87,157,1).
edge(66,105,257,1).
edge(66,107,308,1).
edge(68,69,367,1).
edge(68,70,330,1).
edge(69,88,396,1).
edge(69,109,532,1).
edge(70,71,446,1).
edge(71,72,586,1).
edge(71,73,534,1).
edge(71,89,526,0).
edge(72,89,609,1).
edge(72,112,743,1).
edge(73,74,553,1).
edge(73,270,637,0).
edge(74,270,624,1).
edge(75,76,659,1).
edge(75,207,578,1).
edge(77,78,102,1).
edge(77,80,119,1).
edge(77,85,126,1).
edge(78,80,79,0).
edge(78,85,89,1).
edge(78,91,80,1).
edge(79,83,307,1).
edge(79,168,314,1).
edge(79,204,353,1).
edge(79,209,304,1).
edge(80,81,88,1).
edge(81,82,59,1).
edge(81,91,88,1).
edge(81,93,143,1).
edge(82,97,84,1).
edge(83,208,446,0).
edge(84,85,138,1).
edge(85,86,102,1).
edge(86,87,109,1).
edge(87,88,256,1).
edge(88,89,458,1).
edge(90,114,950,1).
edge(91,92,126,0).
edge(92,94,213,1).
edge(92,102,160,0).
edge(92,104,129,1).
edge(93,96,134,1).
edge(94,98,246,1).
edge(94,125,273,1).
edge(95,101,43542,1).
edge(95,160,20,1).
edge(96,97,79,1).
edge(97,162,122,1).
edge(97,163,171,1).
edge(98,99,220,0).
edge(98,125,256,0).
edge(99,100,152,1).
edge(99,103,169,1).
edge(100,101,43704,0).
edge(100,103,80,1).
edge(101,128,40,0).
edge(102,106,234,1).
edge(104,105,235,1).
edge(106,107,344,1).
edge(106,124,334,1).
edge(107,108,419,1).
edge(108,109,529,1).
edge(108,120,475,1).
edge(109,110,661,1).
edge(110,111,763,1).
edge(110,112,767,1).
edge(111,116,842,0).
edge(112,113,875,1).
edge(113,114,960,1).
edge(113,115,1005,1).
edge(115,116,980,0).
edge(116,117,818,1).
edge(117,118,749,0).
edge(117,119,679,1).
edge(118,119,671,0).
edge(119,120,551,0).
edge(119,121,565,1).
edge(121,122,520,1).
edge(121,123,463,1).
edge(122,125,407,1).
edge(123,124,377,0).
edge(123,125,332,1).
edge(125,127,238,1).
edge(126,127,170,1).
edge(128,129,64,1).
edge(128,132,85,1).
edge(128,133,111,1).
edge(129,130,59,1).
edge(130,131,54,1).
edge(131,132,90,0).
edge(132,134,154,1).
edge(133,135,190,1).
edge(133,150,241,1).
edge(134,135,207,1).
edge(135,136,293,1).
edge(136,137,328,1).
edge(136,138,408,1).
edge(136,149,442,1).
edge(138,139,433,1).
edge(138,140,509,1).
edge(140,141,539,1).
edge(140,142,640,1).
edge(140,148,650,1).
edge(142,143,699,1).
edge(142,144,738,1).
edge(144,145,890,1).
edge(144,147,857,1).
edge(145,146,1039,1).
edge(145,158,1032,1).
edge(147,154,1026,1).
edge(147,178,879,1).
edge(147,179,966,1).
edge(148,153,821,1).
edge(148,176,664,1).
edge(148,177,700,1).
edge(148,184,800,1).
edge(148,185,759,1).
edge(149,152,610,1).
edge(149,172,447,1).
edge(149,175,484,1).
edge(149,190,593,1).
edge(149,191,555,1).
edge(150,151,405,1).
edge(150,165,338,1).
edge(150,169,249,1).
edge(150,170,276,1).
edge(150,194,396,1).
edge(151,152,595,1).
edge(151,198,539,1).
edge(152,153,802,1).
edge(153,154,1007,1).
edge(153,226,911,0).
edge(154,155,1233,1).
edge(154,159,1121,0).
edge(155,156,1304,1).
edge(155,157,1384,1).
edge(157,158,1252,1).
edge(157,244,1442,1).
edge(157,245,1508,1).
edge(159,237,1118,1).
edge(159,238,1240,1).
edge(160,161,68,1).
edge(160,169,123,1).
edge(161,162,114,0).
edge(162,166,227,1).
edge(163,164,237,1).
edge(163,165,300,1).
edge(164,165,316,1).
edge(164,168,307,1).
edge(165,194,420,1).
edge(166,167,308,1).
edge(166,168,323,0).
edge(167,195,415,1).
edge(168,203,440,1).
edge(168,204,386,1).
edge(168,209,341,1).
edge(169,171,258,1).
edge(170,193,358,1).
edge(171,172,342,1).
edge(171,173,388,1).
edge(172,175,407,1).
edge(172,192,473,0).
edge(173,174,464,1).
edge(174,175,466,1).
edge(174,176,539,1).
edge(176,177,629,1).
edge(176,185,695,1).
edge(177,178,740,1).
edge(179,180,975,1).
edge(179,182,1004,1).
edge(180,184,913,0).
edge(181,182,1097,1).
edge(181,233,1225,1).
edge(181,234,1198,1).
edge(181,235,1134,0).
edge(182,183,1000,1).
edge(184,185,825,1).
edge(185,186,775,1).
edge(186,187,793,1).
edge(186,190,714,1).
edge(187,188,785,1).
edge(187,189,847,1).
edge(189,225,892,0).
edge(190,191,625,1).
edge(191,192,576,1).
edge(192,193,508,1).
edge(193,194,457,1).
edge(194,195,479,1).
edge(195,196,503,1).
edge(196,197,540,0).
edge(196,198,554,1).
edge(198,199,605,1).
edge(198,200,584,0).
edge(199,202,580,1).
edge(199,211,707,1).
edge(200,201,597,1).
edge(200,203,547,1).
edge(201,202,577,1).
edge(201,212,685,0).
edge(202,203,526,1).
edge(202,204,481,1).
edge(202,206,497,1).
edge(204,208,480,0).
edge(204,209,377,1).
edge(205,206,427,1).
edge(205,209,367,0).
edge(206,207,497,1).
edge(207,210,652,0).
edge(208,210,650,0).
edge(210,217,766,0).
edge(210,218,782,0).
edge(211,213,805,0).
edge(212,214,796,0).
edge(212,215,778,1).
edge(213,214,833,1).
edge(213,226,875,0).
edge(214,223,914,1).
edge(214,224,909,0).
edge(215,216,784,0).
edge(215,220,830,0).
edge(216,219,792,0).
edge(217,247,870,1).
edge(218,220,834,1).
edge(219,232,930,1).
edge(219,247,887,1).
edge(219,248,808,1).
edge(220,221,881,1).
edge(220,222,909,1).
edge(222,223,972,0).
edge(222,249,1079,1).
edge(223,227,1026,1).
edge(224,225,943,1).
edge(225,226,917,0).
edge(226,237,1013,1).
edge(227,228,1089,1).
edge(227,229,1113,1).
edge(229,230,1176,0).
edge(229,250,1271,1).
edge(230,233,1238,1).
edge(231,232,1133,1).
edge(231,241,1308,1).
edge(231,250,1305,1).
edge(232,249,1110,1).
edge(233,234,1253,1).
edge(233,240,1298,1).
edge(234,239,1271,0).
edge(235,236,1134,1).
edge(236,237,1133,0).
edge(236,238,1253,1).
edge(238,239,1323,1).
edge(238,244,1402,1).
edge(239,241,1348,0).
edge(239,243,1373,1).
edge(241,242,1425,1).
edge(242,246,1556,1).
edge(242,252,1544,1).
edge(243,245,1514,0).
edge(243,251,1483,0).
edge(244,245,1532,1).
edge(245,246,1618,1).
edge(246,253,1681,1).
edge(247,254,945,1).
edge(247,256,1031,1).
edge(248,254,871,1).
edge(249,263,1254,1).
edge(250,265,1452,1).
edge(251,252,1578,1).
edge(252,267,1666,1).
edge(253,268,1796,1).
edge(254,255,853,1).
edge(254,258,1008,1).
edge(255,259,819,1).
edge(256,257,1131,1).
edge(256,258,1089,1).
edge(256,261,1165,1).
edge(258,259,980,1).
edge(259,260,895,1).
edge(261,262,1180,1).
edge(261,263,1270,1).
edge(263,264,1350,1).
edge(263,265,1425,1).
edge(265,266,1545,1).
edge(265,267,1621,1).
edge(267,268,1793,1).
edge(268,269,1882,1).
edge(89,270,630,1).
edge(90,270,811,1).
edge(145,271,922,1).
edge(127,272,157,0).
edge(128,272,96,0).
edge(129,272,103,0).


path(From,To,Dist,BehGer) :- edge(To,From,Dist,BehGer).
path(From,To,Dist,BehGer) :- edge(From,To,Dist,BehGer).

shorterPath([H|Path], Dist) :-		       % wenn pfad < gespeicherter pfad ersetze ihn
	rpath([H|_], D), !, Dist < D,          % knoten suchen
	retract(rpath([H|_],_)),
	assert(rpath([H|Path], Dist)).
shorterPath(Path, Dist) :-		       % speicher neuen pfad
	assert(rpath(Path,Dist)).

traverse(From, Path, Dist) :-		    % gehe zu allen knoten in der nähe
	path(From, T, D),		    % jede kante
	not(memberchk(T, Path)),	    %	noch nicht betrachtet
	shorterPath([T,From|Path], Dist+D), %	Update neuen kürzesten Pfad
	traverse(T,[From|Path],Dist+D).	    %	Gehe zum nächsten Punkt

traverse(From) :-
	retractall(rpath(_,_)),           % Säuber Lösungssammlung
	traverse(From,[],0).              % gehe von Start zum Zielpunkt
traverse(_).

go(From, To,[Path,Distance]) :-
	traverse(From),                   % Suche alle Wege
	rpath([To|RPath], Dist)->         % Wenn Endpunkt erreicht ist gebe das Ergebnis aus
	  reverse([To|RPath], Path),
	  Distance is round(Dist),
	  write([Path, Dist, Distance]);
	  write('There is no route').
